//data site: http://api.uinames.com/?amount=50&country=United%20States
var uiNames = [
    {
        "gender": "male",
        "surname": "George",
        "name": "Kenneth",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Berry",
        "name": "Billy",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Keller",
        "name": "Andrew",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Grant",
        "name": "Jeffrey",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Gilbert",
        "name": "Wayne",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Brown",
        "name": "Eugene",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Cook",
        "name": "Angela",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Herrera",
        "name": "Linda",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Hill",
        "name": "Ashley",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Allen",
        "name": "Emma",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Sanders",
        "name": "Kathleen",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Palmer",
        "name": "Joshua",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Crawford",
        "name": "Zachary",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Payne",
        "name": "Lawrence",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Holland",
        "name": "Teresa",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Baker",
        "name": "Brittany",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Gardner",
        "name": "Samantha",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Chen",
        "name": "Jesse",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Lynch",
        "name": "Nicholas",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Cole",
        "name": "Tyler",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Jones",
        "name": "Anna",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Thompson",
        "name": "Megan",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Cox",
        "name": "Karen",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Burton",
        "name": "Diane",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Watkins",
        "name": "Kathy",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Schmidt",
        "name": "Linda",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Kennedy",
        "name": "Edward",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Barrett",
        "name": "Laura",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Holmes",
        "name": "Jesse",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Ramirez",
        "name": "Denise",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Franklin",
        "name": "Sharon",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Gilbert",
        "name": "Bruce",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Ruiz",
        "name": "Maria",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Kennedy",
        "name": "Frances",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Bradley",
        "name": "Henry",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Barnett",
        "name": "Judith",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Reid",
        "name": "Melissa",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Castro",
        "name": "Emma",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Ramirez",
        "name": "Samantha",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Russell",
        "name": "Douglas",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "James",
        "name": "Hannah",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Gilbert",
        "name": "Craig",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Lynch",
        "name": "Kathy",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Willis",
        "name": "Anthony",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Gardner",
        "name": "Christian",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Wheeler",
        "name": "Raymond",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Smith",
        "name": "Sara",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Butler",
        "name": "Jennifer",
        "country": "United States"
    },
    {
        "gender": "male",
        "surname": "Rice",
        "name": "John",
        "country": "United States"
    },
    {
        "gender": "female",
        "surname": "Aguilar",
        "name": "Kelly",
        "country": "United States"
    }
];

var departments = [
	{
		"group": "Development",
		"size": 17
	},
	{
		"group": "Sales",
		"size": 20
	},
	{
		"group": "Accounting",
		"size":5
	},
	{
		"group": "Human Resources",
		"size": 5
	},
	{
		"group": "Executives",
		"size": 3
	}
];

var userModels = [];

for(var d in departments) {
	for(var i = 0; i < departments[d]['size']; i++) {
		var uiName = uiNames.shift();
		var newUser = {
			'name': uiName['name'] + ' ' + uiName['surname'],
			'email': uiName['name'] + '.' + uiName['surname'] +'@email.com',
			'group': departments[d]['group'],
			'activities': []
		};
		var activities = Math.floor(Math.random() * 30);
		for(var a = 0; a < activities; a++)
		{
			newUser['activities'].push(MakeNewUserActivity());
		}
		userModels.push(newUser);
	}
}

console.log(JSON.stringify(userModels));


function MakeNewUserActivity()
{
	var datetime= {
		'year': 2014,
		'month': 11,
		'day': Math.ceil(Math.random() * 30)
	};
	
	var type = ['Running','Bicycling','Running','Bicycling','Swimming','Running','Bicycling','Running','Bicycling'][Math.floor(Math.random() * 9)];
	var source = ['strava', 'runtastic', 'BodyMedia', 'DailyMile', 'FatSecret', 'Fitbug', 'Garmin', 'Nike+', 'Jawbone UP', 'Moves'][Math.floor(Math.random() * 9)];
	
	var duration = {
		'hour': [(Math.random() * 100) > 80 ? 1 : 0],
		'min': [Math.floor(Math.random() * 60)],
		'sec': [Math.floor(Math.random() * 60)]
	};
	duration['ticks'] = (Number(duration['hour']) * 3600) + (Number(duration['min']) * 60) + Number(duration['sec']);
	
	var speed = {
		'Running': 0.002, 
		'Bicycling': 0.005,
		'Swimming': 0.0002
	}[type];
	var distance = speed * duration['ticks'];
	
	var points = {
		'Running': 12.5,
		'Bicycling': 5.5,
		'Swimming': 45.5
	}[type];
	var pts = distance * points;

	return {
		'datetime': datetime['month'] + '/' + ('0' + datetime['day']).substr(-2) + '/' + datetime['year'],
		'type': type,
		'source': source,
		'duration': ('0' + duration['hour']).substr(-2) + ':' + ('0' + duration['min']).substr(-2) + ':' + ('0' + duration['sec']).substr(-2),
		'distance': distance,
		'points': pts
	};
}